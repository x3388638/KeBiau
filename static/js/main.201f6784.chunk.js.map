{"version":3,"sources":["Navigation.jsx","App.jsx","Loading.jsx","CourseList.jsx","CourseGrid.jsx","CourseTable.jsx","ToolBar.jsx","CourseTableContainer.jsx","Home.jsx","Share.jsx","registerServiceWorker.js","index.js"],"names":["NavigationBar","styled","Navbar","Hide850","span","UserName","Navigation","props","toggleNavbar","bind","toggleLoginTooltip","toggleLogoutTooltip","state","navbarIsOpen","loginTooltip","logoutTooltip","this","setState","prevState","provider","window","firebase","auth","FacebookAuthProvider","signInWithPopup","then","location","reload","catch","error","errorCode","code","errorMessage","message","console","signOut","route","context","router","user","loginStatusInit","isLogin","uid","color","dark","expand","href","process","src","alt","height","onClick","isOpen","navbar","className","match","path","to","aria-hidden","target","rel","displayName","id","handleLogout","delay","show","hide","placement","toggle","handleLogin","React","Component","contextTypes","PropTypes","object","RelativeContainer","Container","App","db","database","onAuthStateChanged","Object","assign","providerData","uuid","children","childContextTypes","LoadingWrapper","div","marginTop","Loading","loading","width","PureComponent","CommonRow","TableHeader","TableRow","DeptSelector","selected","handleSelect","e","value","onChangeDept","onChange","keys","deptList","map","val","i","key","filterCourse","size","onFilterCourse","filterConflict","onFilterConflict","CourseList","list","courseList","style","overflow","maxHeight","background","length","Fragment","isConflict","data-uuid","cid","cname","classes","time","teacher","grade","year","disabled","onAddCourse","EditBtnContainer","DelBtn","EditBtn","Grid","td","bg","hex","result","exec","r","parseInt","g","b","_hexToRgb","Math","sqrt","CourseGrid","mouseEnter","handleMouseEnter","handleMouseLeave","handleDel","handleEdit","shared","parentNode","getAttribute","rowspan","onDelCourse","dayOfWeek","onEditCourse","title","desc","rowSpan","onMouseEnter","onMouseLeave","WeekendTitle","th","CourseTable","classArr","document","getElementById","replace","trim","split","join","setTimeout","bordered","responsive","tableLayout","tableData","sat","onDelSatOrSun","sun","t","data-time","course","courseData","ToolBar","exportDropdownOpen","clearDropdownOpen","toggleExportDropdown","toggleClearDropdown","querySelectorAll","forEach","setAttribute","html","innerHTML","open","encodeURIComponent","preventDefault","html2canvas","onrendered","canvas","Canvas2Image","saveAsPNG","btnStyle","cursor","marginBottom","onSave","onShare","caret","handleExportExcel","handleExportPNG","onReColor","onReTable","onClickCustom","CourseTableContainer","customTable","0","1","2","3","4","5","6","modalEditCourse","modalTitle","modalCustomCourseOpen","modalFilterCourseOpen","filterCourseForm","timeMap","a","c","d","z","f","h","j","k","l","m","timeOrder","getCourseList","getCourseData","changeDept","getTableData","checkConflict","handleDelSatOrSun","handleDelCourse","handleOpenEditModal","toggleModalEditCourse","handleEditCourse","handleReColor","handleReTable","toggleModalCustomCourse","handleAddCustomCourse","handleSave","handleShare","toggleModalFilterCourse","handleFilterCourse","handleClearFilterCourse","handleFilterCourseChange","dept","sessionCourseList","sessionStorage","JSON","parse","ref","once","snapshot","stringify","shouldAddCourse","toLowerCase","sections","apartCourseTime","timeValid","some","valid","validateTime","alert","msg","conflict","cloneDeep","index","startTime","nextTimeOrder","indexOf","nextTime","nextTimeCourse","test","last","err","current","charCodeAt","push","day","dayOrder","set","hash","Date","now","random","toString","substring","prompt","event","field","isFilterCourse","parsedCourseList","reduce","courseKey","every","toUpperCase","includes","padding","boxShadow","xs","row","for","sm","type","defaultValue","placeholder","verticalAlign","Home","ShareContainer","Share","routeHash","params","data","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","render","exact","component","from","URL","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.201f6784.chunk.js","sourcesContent":["import React from 'react'\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  Tooltip\n} from 'reactstrap'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst NavigationBar = styled(Navbar)`\n  z-index: 5;\n  padding: 0.3rem 1rem;\n`\n\nconst Hide850 = styled.span`\n  @media (max-width: 850px) and (min-width: 576px) {\n    display: none;\n  }\n`\n\nconst UserName = styled.span`\n  @media (max-width: 1000px) and (min-width: 576px) {\n    display: none;\n  }\n`\n\nexport default class Navigation extends React.Component {\n  constructor(props) {\n    super(props)\n    this.toggleNavbar = this.toggleNavbar.bind(this)\n    this.toggleLoginTooltip = this.toggleLoginTooltip.bind(this)\n    this.toggleLogoutTooltip = this.toggleLogoutTooltip.bind(this)\n    this.state = {\n      navbarIsOpen: false,\n      loginTooltip: false,\n      logoutTooltip: false\n    }\n  }\n\n  toggleNavbar() {\n    this.setState((prevState) => ({\n      navbarIsOpen: !prevState.navbarIsOpen\n    }))\n  }\n\n  toggleLoginTooltip() {\n    this.setState((prevState) => ({\n      loginTooltip: !prevState.loginTooltip\n    }))\n  }\n\n  toggleLogoutTooltip() {\n    this.setState((prevState) => ({\n      logoutTooltip: !prevState.logoutTooltip\n    }))\n  }\n\n  handleLogin() {\n    const provider = new window.firebase.auth.FacebookAuthProvider()\n    window.firebase\n      .auth()\n      .signInWithPopup(provider)\n      .then(function () {\n        window.location.reload()\n      })\n      .catch(function (error) {\n        const errorCode = error.code\n        const errorMessage = error.message\n        console.error(`[${errorCode}] ${errorMessage}`)\n      })\n  }\n\n  handleLogout() {\n    window.firebase\n      .auth()\n      .signOut()\n      .then(function () {\n        window.location.reload()\n      })\n      .catch(function (error) {\n        console.error(error)\n      })\n  }\n\n  render() {\n    const route = this.context.router.route\n    const user = this.context.user\n    const loginStatusInit = !!user\n    const isLogin = loginStatusInit && !!user.uid\n    return (\n      <NavigationBar color=\"dark\" dark expand=\"sm\">\n        <NavbarBrand href={process.env.REACT_APP_BASE_URL}>\n          <img\n            src={`${process.env.REACT_APP_BASE_URL}/logo.png`}\n            alt=\"\"\n            height=\"31px\"\n          />{' '}\n          自己的課表自己排 2.0\n        </NavbarBrand>\n        <NavbarToggler onClick={this.toggleNavbar} />\n        <Collapse isOpen={this.state.navbarIsOpen} navbar>\n          <Nav navbar>\n            <NavItem>\n              <Link\n                className={\n                  route.match.path === '/' ? 'active nav-link' : ' nav-link'\n                }\n                to=\"/\"\n              >\n                <i className=\"fa fa-table\" aria-hidden=\"true\"></i>{' '}\n                <span className=\"d-sm-none d-md-inline\">\n                  <Hide850>我的</Hide850>課表\n                </span>\n              </Link>\n            </NavItem>\n            {/* <NavItem>\n              <Link\n                className={\n                  route.match.path === '/exchange'\n                    ? 'active nav-link'\n                    : ' nav-link'\n                }\n                to=\"/exchange\"\n              >\n                <i className=\"fa fa-exchange\" aria-hidden=\"true\"></i>{' '}\n                <span className=\"d-sm-none d-md-inline\">\n                  換課<Hide850>平台</Hide850>\n                </span>\n              </Link>\n            </NavItem>\n            <NavItem>\n              <Link\n                className={\n                  route.match.path === '/review'\n                    ? 'active nav-link'\n                    : ' nav-link'\n                }\n                to=\"/review\"\n              >\n                <i className=\"fa fa-thumbs-up\" aria-hidden=\"true\"></i>{' '}\n                <span className=\"d-sm-none d-md-inline\">\n                  <Hide850>課程</Hide850>評價\n                </span>\n              </Link>\n            </NavItem> */}\n            <NavItem>\n              <NavLink\n                href=\"https://fb.com/MOLi.rocks/posts/2104134533131853\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span>\n                  <i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i>{' '}\n                  <span className=\"d-sm-none d-md-inline\">選課教學</span>\n                </span>\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink\n                href=\"https://github.com/x3388638/KeBiau/issues\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span>\n                  <i\n                    className=\"fa fa-exclamation-circle\"\n                    aria-hidden=\"true\"\n                  ></i>{' '}\n                  <span className=\"d-sm-none d-md-inline\">回報</span>\n                </span>\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <Nav className=\"ml-auto\" navbar>\n            {loginStatusInit && isLogin && (\n              <NavItem>\n                <NavLink>\n                  <UserName className=\"ml-2\">{user.displayName}</UserName>\n                </NavLink>\n              </NavItem>\n            )}\n            {loginStatusInit && (\n              <NavItem>\n                {isLogin ? (\n                  <NavLink id=\"LogoutBtn\" href=\"#\" onClick={this.handleLogout}>\n                    <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>{' '}\n                    <span className=\"d-inline d-sm-none\">登出</span>\n                    <Tooltip\n                      delay={{ show: 0, hide: 0 }}\n                      placement=\"left\"\n                      isOpen={this.state.logoutTooltip}\n                      target=\"LogoutBtn\"\n                      toggle={this.toggleLogoutTooltip}\n                    >\n                      登出\n                    </Tooltip>\n                  </NavLink>\n                ) : (\n                  <NavLink id=\"LoginBtn\" href=\"#\" onClick={this.handleLogin}>\n                    <i className=\"fa fa-facebook-square\" aria-hidden=\"true\"></i>\n                    <Tooltip\n                      delay={{ show: 0, hide: 0 }}\n                      placement=\"left\"\n                      isOpen={this.state.loginTooltip}\n                      target=\"LoginBtn\"\n                      toggle={this.toggleLoginTooltip}\n                    >\n                      登入 Facebook\n                    </Tooltip>\n                  </NavLink>\n                )}\n              </NavItem>\n            )}\n          </Nav>\n        </Collapse>\n      </NavigationBar>\n    )\n  }\n}\n\nNavigation.contextTypes = {\n  user: PropTypes.object,\n  router: PropTypes.object\n}\n","import React from 'react'\nimport { Container } from 'reactstrap'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport Navigation from './Navigation.jsx'\n\nimport './App.css'\n\nconst RelativeContainer = styled(Container)`\n  position: relative;\n`\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      user: null\n    }\n\n    this.db = window.firebase.database()\n    window.firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({\n          user: Object.assign({}, user.providerData[0], {\n            uuid: user.uid\n          })\n        })\n      } else {\n        this.setState({\n          user: {\n            uid: null\n          }\n        })\n      }\n    })\n  }\n\n  getChildContext() {\n    return {\n      user: this.state.user\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Navigation />\n        <RelativeContainer>{this.props.children}</RelativeContainer>\n      </div>\n    )\n  }\n}\n\nApp.childContextTypes = {\n  user: PropTypes.object\n}\n","import React from 'react'\nimport { BarLoader } from 'react-spinners'\nimport styled from 'styled-components'\n\nconst LoadingWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => `${props.marginTop || 20}px`};\n`\n\nexport default class Loading extends React.PureComponent {\n  render() {\n    return (\n      <LoadingWrapper {...this.props}>\n        <BarLoader color=\"#666\" loading height={5} width={200} />\n      </LoadingWrapper>\n    )\n  }\n}\n","import React from 'react'\nimport { Button } from 'reactstrap'\nimport styled from 'styled-components'\nimport Loading from './Loading'\n\nconst CommonRow = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 3fr 1fr 1fr 2fr 3fr 1fr 1fr 1fr;\n  grid-gap: 2px;\n  margin: 5px;\n`\n\nconst TableHeader = styled(CommonRow)`\n  margin: 0 5px 5px;\n  position: sticky;\n  top: 0;\n  left: 0;\n  background: #fff;\n  z-index: 10;\n  border-bottom: 1px solid #adadad;\n  & span {\n    padding: 10px 0px;\n    font-weight: bold;\n  }\n\n  @media screen and (max-width: 992px) {\n    display: none;\n  }\n`\n\nconst TableRow = styled(CommonRow)`\n  background: #f9f9f9;\n  border-radius: 2px;\n  & span {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n    &.TableRow__link,\n    &.TableRow__btn {\n      justify-content: center;\n    }\n  }\n\n  @media screen and (max-width: 991px) {\n    padding: 5px;\n    box-shadow: 1px 1px 2px 0px #878787;\n    margin-bottom: 10px;\n    grid-template-columns: 1fr 3fr 1fr;\n    grid-template-rows: 1fr 1fr 1fr 1fr;\n    grid-template-areas:\n      'cid cname classes'\n      'teacher teacher teacher'\n      'time time time'\n      'location location location'\n      'link link btn';\n    & span {\n      padding: 0 8px;\n    }\n\n    & span.TableRow__cid {\n      grid-area: cid;\n    }\n    & span.TableRow__cname {\n      grid-area: cname;\n      justify-content: center;\n      font-weight: bold;\n    }\n    & span.TableRow__classes {\n      grid-area: classes;\n      justify-content: flex-end;\n      &::after {\n        content: '班';\n        padding-left: 2px;\n      }\n    }\n    & span.TableRow__time {\n      grid-area: time;\n      &::before {\n        content: '時間:';\n        padding-right: 2px;\n      }\n    }\n    & span.TableRow__location {\n      grid-area: location;\n      &::before {\n        content: '地點:';\n        padding-right: 2px;\n      }\n    }\n    & span.TableRow__teacher {\n      grid-area: teacher;\n      &::before {\n        content: '教師:';\n        padding-right: 2px;\n      }\n    }\n    & span.TableRow__grade {\n      display: none;\n    }\n    & span.TableRow__link {\n      grid-area: link;\n      justify-content: flex-end;\n    }\n    & span.TableRow__btn {\n      grid-area: btn;\n      & button {\n        width: 100%;\n      }\n    }\n  }\n`\n\nclass DeptSelector extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selected: ''\n    }\n\n    this.handleSelect = this.handleSelect.bind(this)\n  }\n\n  componentDidMount() {\n    this.setState({\n      selected: '通識'\n    })\n  }\n\n  handleSelect(e) {\n    this.setState({\n      selected: e.target.value\n    })\n\n    this.props.onChangeDept(e.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"mb-2\">\n        <strong>開課單位：</strong>\n        <select value={this.state.selected} onChange={this.handleSelect}>\n          {Object.keys(this.props.deptList).map((val, i) => {\n            return (\n              <option key={i} value={val}>\n                {val}\n              </option>\n            )\n          })}\n        </select>{' '}\n        <Button\n          className={this.props.filterCourse ? 'active' : ''}\n          color={this.props.filterCourse ? 'danger' : 'light'}\n          size=\"sm\"\n          onClick={this.props.onFilterCourse}\n        >\n          篩選課程\n        </Button>{' '}\n        <Button\n          className={this.props.filterConflict ? 'active' : ''}\n          color={this.props.filterConflict ? 'danger' : 'light'}\n          size=\"sm\"\n          onClick={this.props.onFilterConflict}\n        >\n          {this.props.filterConflict ? '取消過濾' : '過濾衝堂'}\n        </Button>\n        <a\n          className=\"float-right mr-2 text-warning\"\n          href=\"https://ccweb.ncnu.edu.tw/student/DeptQuerylist.php\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <i className=\"fa fa-sitemap\" aria-hidden=\"true\"></i> 各系所課程地圖\n        </a>\n      </div>\n    )\n  }\n}\n\nexport default class CourseList extends React.Component {\n  render() {\n    const list = this.props.courseList\n    return (\n      <div>\n        <DeptSelector {...this.props} />\n        <div\n          style={{\n            overflow: 'auto',\n            maxHeight: '487px',\n            background: '#fff',\n            width: '100%'\n          }}\n        >\n          {!list.length && <Loading />}\n\n          {!!list.length && (\n            <React.Fragment>\n              <TableHeader>\n                <span>課號</span>\n                <span>課程名稱</span>\n                <span>班別</span>\n                <span>時段</span>\n                <span>授課地點</span>\n                <span>教師</span>\n                <span>年級</span>\n                <span></span>\n                <span></span>\n              </TableHeader>\n              {Object.keys(list).map((val) =>\n                this.props.filterConflict && list[val].isConflict ? null : (\n                  <TableRow key={val} data-uuid={val}>\n                    <span className=\"TableRow__cid\">{list[val].cid}</span>\n                    <span className=\"TableRow__cname\">{list[val].cname}</span>\n                    <span className=\"TableRow__classes\">\n                      {list[val].classes}\n                    </span>\n                    <span className=\"TableRow__time\">{list[val].time}</span>\n                    <span className=\"TableRow__location\">\n                      {list[val].location}\n                    </span>\n                    <span className=\"TableRow__teacher\">\n                      {list[val].teacher}\n                    </span>\n                    <span className=\"TableRow__grade\">{list[val].grade}</span>\n                    <span className=\"TableRow__link\">\n                      <a\n                        href={`https://ccweb.ncnu.edu.tw/student/aspmaker_course_opened_detail_viewview.php?showdetail=&year=${list[val].year}&courseid=${list[val].cid}&_class=${list[val].classes}&modal=0`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        課綱{' '}\n                        <i\n                          className=\"fa fa-external-link\"\n                          aria-hidden=\"true\"\n                        ></i>\n                      </a>\n                    </span>\n                    <span className=\"TableRow__btn\">\n                      <Button\n                        color=\"success\"\n                        size=\"sm\"\n                        disabled={list[val].isConflict ? true : false}\n                        onClick={() => {\n                          this.props.onAddCourse(list[val], true)\n                        }}\n                      >\n                        {list[val].isConflict ? '衝堂' : '加入'}\n                      </Button>\n                    </span>\n                  </TableRow>\n                )\n              )}\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst EditBtnContainer = styled.span`\n  top: -8px;\n  position: relative;\n`\n\nconst DelBtn = styled.span`\n  display: none;\n  cursor: pointer;\n  color: #c9302c !important;\n  font-size: 20px;\n`\n\nconst EditBtn = styled.i`\n  display: none;\n  cursor: pointer;\n  font-size: 14px;\n  &:hover {\n    color: #0275d8;\n  }\n`\n\nconst Grid = styled.td`\n  vertical-align: middle !important;\n  background: ${(props) => `${props.bg} !important` || 'none'};\n  color: ${_getTextColor};\n  &:hover {\n    background: #fafafa;\n    ${DelBtn} {\n      display: initial;\n    }\n\n    ${EditBtn} {\n      display: initial;\n    }\n  }\n`\n\nfunction _getTextColor(props) {\n  if (props.bg) {\n    const { r, g, b } = _hexToRgb(props.bg)\n    const bri = Math.sqrt(r * r * 0.241 + g * g * 0.691 + b * b * 0.068)\n    if (bri < 125) {\n      return '#fff'\n    }\n\n    return ''\n  }\n\n  return ''\n}\n\nfunction _hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      }\n    : null\n}\n\nexport default class CourseGrid extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mouseEnter: false\n    }\n\n    this.handleMouseEnter = this.handleMouseEnter.bind(this)\n    this.handleMouseLeave = this.handleMouseLeave.bind(this)\n    this.handleDel = this.handleDel.bind(this)\n    this.handleEdit = this.handleEdit.bind(this)\n  }\n\n  handleMouseEnter() {\n    this.setState({\n      mouseEnter: true\n    })\n  }\n\n  handleMouseLeave() {\n    this.setState({\n      mouseEnter: false\n    })\n  }\n\n  handleDel(e) {\n    if (this.props.shared) return\n    const time = e.target.parentNode.parentNode.parentNode.getAttribute(\n      'data-time'\n    )\n    const rowspan = e.target.parentNode.parentNode.getAttribute('rowspan')\n    this.props.onDelCourse(time, rowspan, this.props.dayOfWeek)\n  }\n\n  handleEdit(e) {\n    if (this.props.shared) return\n    this.props.onEditCourse({\n      time: e.target.parentNode.parentNode.parentNode.parentNode.getAttribute(\n        'data-time'\n      ),\n      dayOfWeek: this.props.dayOfWeek,\n      title: this.props.title,\n      desc: this.props.desc,\n      bg: this.props.bg\n    })\n  }\n\n  hexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n    return result\n      ? {\n          r: parseInt(result[1], 16),\n          g: parseInt(result[2], 16),\n          b: parseInt(result[3], 16)\n        }\n      : null\n  }\n\n  render() {\n    return (\n      <Grid\n        bg={this.props.bg}\n        rowSpan={this.props.rowspan || 1}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {!this.props.shared && this.props.title && this.state.mouseEnter && (\n          <span className=\"float-right mr-2\">\n            <DelBtn className=\"text-danger\" onClick={this.handleDel}>\n              &times;\n            </DelBtn>\n            <br />\n            <EditBtnContainer>\n              <EditBtn\n                className=\"fa fa-pencil\"\n                aria-hidden=\"true\"\n                onClick={this.handleEdit}\n              ></EditBtn>\n            </EditBtnContainer>\n          </span>\n        )}\n\n        {this.props.title && this.props.title}\n        <br className=\"uniBR\" />\n        {this.props.desc && this.props.desc}\n      </Grid>\n    )\n  }\n}\n","import React from 'react'\nimport { Table } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport CourseGrid from './CourseGrid'\n\nconst DelBtn = styled.i`\n  display: none;\n  &:hover {\n    cursor: pointer;\n    color: #c9302c !important;\n  }\n`\n\nconst WeekendTitle = styled.th`\n  width: auto;\n  &:hover {\n    ${DelBtn} {\n      display: initial;\n    }\n  }\n`\n\nexport default class CourseTable extends React.Component {\n  componentDidUpdate() {\n    const classArr = document\n      .getElementById('CustomTable')\n      .className.replace('table-bordered', '')\n      .trim()\n      .split(' ')\n    document.getElementById('CustomTable').className = classArr.join(' ')\n    setTimeout(() => {\n      document.getElementById('CustomTable').className += ' table-bordered'\n    }, 1)\n  }\n\n  render() {\n    const timeNo = [\n      'a/08',\n      'b/09',\n      'c/10',\n      'd/11',\n      'z/12',\n      'e/13',\n      'f/14',\n      'g/15',\n      'h/16',\n      'i/17',\n      'j/18',\n      'k/19',\n      'l/20',\n      'm/21'\n    ]\n    return (\n      <div>\n        <Table\n          id=\"CustomTable\"\n          bordered\n          responsive\n          size=\"sm\"\n          style={{ background: '#fff', tableLayout: 'fixed' }}\n        >\n          <thead>\n            <tr>\n              <th style={{ width: '60px' }}></th>\n              <th className=\"text-center\">星期一</th>\n              <th className=\"text-center\">星期二</th>\n              <th className=\"text-center\">星期三</th>\n              <th className=\"text-center\">星期四</th>\n              <th className=\"text-center\">星期五</th>\n              {this.props.tableData.sat && (\n                <WeekendTitle className=\"text-center\">\n                  星期六{' '}\n                  <DelBtn\n                    className=\"fa fa-times-circle text-danger\"\n                    aria-hidden=\"true\"\n                    onClick={() => {\n                      !this.props.shared && this.props.onDelSatOrSun('sat')\n                    }}\n                  ></DelBtn>\n                </WeekendTitle>\n              )}\n\n              {this.props.tableData.sun && (\n                <WeekendTitle className=\"text-center\">\n                  星期日{' '}\n                  <DelBtn\n                    className=\"fa fa-times-circle text-danger\"\n                    aria-hidden=\"true\"\n                    onClick={() => {\n                      !this.props.shared && this.props.onDelSatOrSun('sun')\n                    }}\n                  ></DelBtn>\n                </WeekendTitle>\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            {timeNo.map((t, i) => {\n              return (\n                <tr data-time={t} key={i}>\n                  <th className=\"text-center\">{t}</th>\n                  {Object.keys(this.props.tableData.course[t]).map((key, i) => {\n                    const courseData = this.props.tableData.course[t][key]\n                    if (courseData === null) {\n                      return null\n                    }\n\n                    if (!this.props.tableData.sat && key === '5') {\n                      return null\n                    }\n\n                    if (!this.props.tableData.sun && key === '6') {\n                      return null\n                    }\n\n                    return (\n                      <CourseGrid\n                        {...courseData}\n                        key={i}\n                        dayOfWeek={key}\n                        shared={this.props.shared}\n                        onDelCourse={this.props.onDelCourse}\n                        onEditCourse={this.props.onEditCourse}\n                      />\n                    )\n                  })}\n                </tr>\n              )\n            })}\n          </tbody>\n        </Table>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport {\n  Button,\n  ButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap'\n\nexport default class ToolBar extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      exportDropdownOpen: false,\n      clearDropdownOpen: false\n    }\n\n    this.toggleExportDropdown = this.toggleExportDropdown.bind(this)\n    this.toggleClearDropdown = this.toggleClearDropdown.bind(this)\n  }\n\n  toggleExportDropdown() {\n    this.setState((prevState) => ({\n      exportDropdownOpen: !prevState.exportDropdownOpen\n    }))\n  }\n\n  toggleClearDropdown() {\n    this.setState((prevState) => ({\n      clearDropdownOpen: !prevState.clearDropdownOpen\n    }))\n  }\n\n  handleExportExcel(e) {\n    document.querySelectorAll('.uniBR').forEach((val) => {\n      val.setAttribute('style', 'mso-data-placement:same-cell')\n    })\n    const html =\n      '<html><head><meta charset=\"utf-8\"></head><body>' +\n      document.getElementById('CustomTable').parentNode.innerHTML +\n      '</body></html>'\n    window.open('data:application/vnd.ms-excel,' + encodeURIComponent(html))\n    e.preventDefault()\n  }\n\n  handleExportPNG() {\n    window.html2canvas(document.querySelectorAll('#CustomTable'), {\n      onrendered: function (canvas) {\n        //\n      }\n    })\n    window.html2canvas(document.querySelectorAll('#CustomTable'), {\n      onrendered: function (canvas) {\n        window.Canvas2Image.saveAsPNG(canvas)\n      }\n    })\n  }\n\n  render() {\n    const btnStyle = { cursor: 'pointer', marginBottom: '5px' }\n    return (\n      <div>\n        <Button\n          color=\"primary\"\n          size=\"sm\"\n          className=\"mr-1\"\n          style={btnStyle}\n          onClick={this.props.onSave}\n        >\n          <i className=\"fa fa-floppy-o\" aria-hidden=\"true\"></i>{' '}\n          <span className=\"d-none d-sm-inline\">儲存</span>\n        </Button>\n        <Button\n          color=\"light\"\n          size=\"sm\"\n          className=\"mr-1\"\n          style={btnStyle}\n          onClick={this.props.onShare}\n        >\n          <i className=\"fa fa-share-square-o\" aria-hidden=\"true\"></i>{' '}\n          <span className=\"d-none d-sm-inline\">分享</span>\n        </Button>\n        <ButtonDropdown\n          className=\"mr-1\"\n          isOpen={this.state.exportDropdownOpen}\n          style={btnStyle}\n          size=\"sm\"\n          toggle={this.toggleExportDropdown}\n        >\n          <DropdownToggle caret color=\"light\">\n            <i className=\"fa fa-download\" aria-hidden=\"true\"></i>{' '}\n            <span className=\"d-none d-sm-inline\">匯出</span>\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem onClick={this.handleExportExcel}>\n              <i className=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i> .xls\n            </DropdownItem>\n            <DropdownItem onClick={this.handleExportPNG}>\n              <i className=\"fa fa-file-image-o\" aria-hidden=\"true\"></i> .png\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <span className=\"ml-2 mr-2\"></span>\n        <ButtonDropdown\n          className=\"mr-1\"\n          isOpen={this.state.clearDropdownOpen}\n          style={btnStyle}\n          size=\"sm\"\n          toggle={this.toggleClearDropdown}\n        >\n          <DropdownToggle caret color=\"light\">\n            <i className=\"fa fa-repeat\" aria-hidden=\"true\"></i>{' '}\n            <span className=\"d-none d-sm-inline\">清除</span>\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem onClick={this.props.onReColor}>\n              <i className=\"fa fa-magic\" aria-hidden=\"true\"></i> 標記\n            </DropdownItem>\n            <DropdownItem onClick={this.props.onReTable}>\n              <i className=\"fa fa-table\" aria-hidden=\"true\"></i> 課表\n            </DropdownItem>\n          </DropdownMenu>\n        </ButtonDropdown>\n        <Button\n          color=\"light\"\n          size=\"sm\"\n          className=\"mr-1\"\n          style={btnStyle}\n          onClick={this.props.onClickCustom}\n        >\n          <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>{' '}\n          <span className=\"d-none d-sm-inline\">自訂時段</span>\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport {\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap'\nimport PropTypes from 'prop-types'\nimport cloneDeep from 'lodash.clonedeep'\n\nimport CourseList from './CourseList.jsx'\nimport CourseTable from './CourseTable.jsx'\nimport ToolBar from './ToolBar.jsx'\n\nexport default class CourseTableContainer extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      deptList: {},\n      courseList: {},\n      customTable: {\n        course: {\n          'a/08': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'b/09': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'c/10': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'd/11': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'z/12': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'e/13': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'f/14': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'g/15': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'h/16': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'i/17': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'j/18': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'k/19': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'l/20': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} },\n          'm/21': { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {}, 6: {} }\n        },\n        sat: false,\n        sun: false\n      },\n      modalEditCourse: {\n        open: false,\n        modalTitle: '編輯課程',\n        title: '',\n        desc: '',\n        bg: ''\n      },\n      modalCustomCourseOpen: false,\n      filterConflict: false,\n      modalFilterCourseOpen: false,\n      filterCourseForm: {\n        cname: '',\n        teacher: '',\n        time: '',\n        location: ''\n      }\n    }\n    this.timeMap = {\n      a: 'a/08',\n      b: 'b/09',\n      c: 'c/10',\n      d: 'd/11',\n      z: 'z/12',\n      e: 'e/13',\n      f: 'f/14',\n      g: 'g/15',\n      h: 'h/16',\n      i: 'i/17',\n      j: 'j/18',\n      k: 'k/19',\n      l: 'l/20',\n      m: 'm/21'\n    }\n    this.timeOrder = [\n      'a',\n      'b',\n      'c',\n      'd',\n      'z',\n      'e',\n      'f',\n      'g',\n      'h',\n      'i',\n      'j',\n      'k',\n      'l',\n      'm'\n    ]\n    this.db = window.firebase.database()\n    this.getCourseList = this.getCourseList.bind(this)\n    this.getCourseData = this.getCourseData.bind(this)\n    this.changeDept = this.changeDept.bind(this)\n    this.getTableData = this.getTableData.bind(this)\n    this.checkConflict = this.checkConflict.bind(this)\n    this.handleDelSatOrSun = this.handleDelSatOrSun.bind(this)\n    this.handleDelCourse = this.handleDelCourse.bind(this)\n    this.handleOpenEditModal = this.handleOpenEditModal.bind(this)\n    this.toggleModalEditCourse = this.toggleModalEditCourse.bind(this)\n    this.handleEditCourse = this.handleEditCourse.bind(this)\n    this.handleReColor = this.handleReColor.bind(this)\n    this.handleReTable = this.handleReTable.bind(this)\n    this.toggleModalCustomCourse = this.toggleModalCustomCourse.bind(this)\n    this.handleAddCustomCourse = this.handleAddCustomCourse.bind(this)\n    this.handleSave = this.handleSave.bind(this)\n    this.handleShare = this.handleShare.bind(this)\n    this.filterConflict = this.filterConflict.bind(this)\n    this.toggleModalFilterCourse = this.toggleModalFilterCourse.bind(this)\n    this.handleFilterCourse = this.handleFilterCourse.bind(this)\n    this.handleClearFilterCourse = this.handleClearFilterCourse.bind(this)\n    this.handleFilterCourseChange = this.handleFilterCourseChange.bind(this)\n  }\n\n  componentDidMount() {\n    this.getCourseData()\n    this.getTableData()\n  }\n\n  getCourseList(dept = '通識') {\n    const sessionCourseList = window.sessionStorage.courseList\n      ? JSON.parse(window.sessionStorage.courseList)\n      : '{}'\n    /*\n\t\tif (sessionCourseList[dept]) {\n\t\t\t// console.log(`course in ${dept} exist in sessionStorage`);\n\t\t\tthis.setState({\n\t\t\t\tcourseList: Object.assign({}, sessionCourseList[dept])\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t*/\n\n    // console.log(`Getting course in ${dept}`);\n    this.db\n      .ref(`course/${dept}`)\n      .once('value')\n      .then((snapshot) => {\n        this.setState({\n          courseList: snapshot.val() || {}\n        })\n        window.sessionStorage.courseList = JSON.stringify(\n          Object.assign({}, sessionCourseList, { [dept]: snapshot.val() })\n        )\n      })\n  }\n\n  getCourseData() {\n    // console.log('Getting course data...');\n    if (/* !window.sessionStorage.deptList */ true) {\n      // console.log('Getting deptList from db...')\n      this.db\n        .ref('deptList/')\n        .once('value')\n        .then((snapshot) => {\n          window.sessionStorage.deptList = JSON.stringify(snapshot.val() || {})\n          this.setState({\n            deptList: snapshot.val() || {}\n          })\n        })\n    } else {\n      // console.log('deptList exist in sessionStorage.')\n      this.setState({\n        deptList: Object.assign({}, JSON.parse(window.sessionStorage.deptList))\n      })\n    }\n\n    this.getCourseList()\n  }\n\n  changeDept(dept) {\n    this.getCourseList(dept)\n  }\n\n  getTableData() {\n    const user = this.context.user\n    if (user === null) {\n      setTimeout(this.getTableData, 100)\n      return\n    }\n\n    if (user.uid) {\n      // logged in, get data from db\n      // console.log('Getting custom table data');\n      this.db\n        .ref(`customTable/${user.uuid}`)\n        .once('value')\n        .then((snapshot) => {\n          const tableData = snapshot.val()\n          tableData &&\n            this.setState({\n              customTable: Object.assign({}, JSON.parse(tableData))\n            })\n        })\n    }\n  }\n\n  checkConflict(courseData, shouldAddCourse) {\n    // if !shouldAddCourse => only check course conflict\n    // validate time\n    const time = courseData.time.toLowerCase() // '2bc3g'\n    const sections = this.apartCourseTime(time) // ['abc', '3g']\n    let timeValid = true\n    sections.some((t) => {\n      const valid = this.validateTime(t)\n      if (!valid.valid) {\n        shouldAddCourse && alert(valid.msg)\n        timeValid = false\n        return true\n      }\n\n      return false\n    })\n\n    if (timeValid) {\n      let conflict = false\n      const customTable = cloneDeep(this.state.customTable) // prevent call by reference\n      sections.forEach((t, index) => {\n        if (conflict) {\n          return\n        }\n\n        const time = t // 2ab\n        const dayOfWeek = time[0] // 2\n        const startTime = time[1] // a\n        const rowspan = time.length - 1 // 2\n        if (\n          customTable.course[this.timeMap[startTime]][dayOfWeek - 1] === null ||\n          customTable.course[this.timeMap[startTime]][dayOfWeek - 1].title\n        ) {\n          conflict = true\n          return\n        }\n\n        if (shouldAddCourse) {\n          customTable.course[this.timeMap[startTime]][dayOfWeek - 1] = {\n            // customTable.course['a/08'][1]\n            rowspan: rowspan,\n            title: courseData.cname || courseData.title,\n            desc:\n              courseData.desc || `${courseData.location} ${courseData.teacher}`,\n            bg: courseData.bg || ''\n          }\n        }\n\n        let nextTimeOrder = this.timeOrder.indexOf(startTime) + 1\n        let nextTime = this.timeMap[this.timeOrder[nextTimeOrder]]\n        for (let i = 0; i < rowspan - 1; i++) {\n          const nextTimeCourse = customTable.course[nextTime][dayOfWeek - 1]\n          if (nextTimeCourse === null || nextTimeCourse.title) {\n            conflict = true\n            return\n          }\n\n          shouldAddCourse &&\n            (customTable.course[nextTime][dayOfWeek - 1] = null)\n          nextTimeOrder++\n          nextTime = this.timeMap[this.timeOrder[nextTimeOrder]]\n        }\n\n        if (!shouldAddCourse) return\n\n        if (dayOfWeek === '6' && !customTable.sat) {\n          customTable.sat = true\n        }\n\n        if (dayOfWeek === '7' && !customTable.sun) {\n          customTable.sun = true\n        }\n      })\n\n      if (!!conflict && shouldAddCourse) {\n        alert('!!! 衝堂 !!!')\n        return\n      }\n\n      shouldAddCourse &&\n        this.setState({\n          customTable: cloneDeep(customTable)\n        })\n\n      return conflict\n    }\n\n    return false\n  }\n\n  validateTime(t) {\n    if (/^[1-7]{1}[A-MZa-mz]+$/.test(t)) {\n      let last = -1\n      let err = 0\n      for (let i = 1; i < t.length; i++) {\n        let current = t[i].charCodeAt()\n        if (last !== -1) {\n          if (current === 122) {\n            // z\n            if (last !== 100) {\n              err++\n              break\n            }\n\n            last = current\n            continue\n          }\n\n          if (current === 101) {\n            // e\n            if (last !== 122) {\n              err++\n              break\n            }\n\n            last = current\n            continue\n          }\n\n          if (current !== +last + 1) {\n            err++\n            break\n          }\n        }\n\n        last = current\n      }\n\n      if (err) {\n        return {\n          valid: false,\n          msg: '時段不連續'\n        }\n      } else {\n        return {\n          valid: true\n        }\n      }\n    } else {\n      return {\n        valid: false,\n        msg: '時間格式錯誤'\n      }\n    }\n  }\n\n  apartCourseTime(t) {\n    let result = []\n    if (t === '') {\n      return ['zzzzz']\n    }\n\n    if (t.replace(/[1-7]{1}[A-MZa-mz]+/g, '').length > 0) {\n      result.push(t)\n      return result\n    }\n\n    return t.match(/[1-7]{1}[A-MZa-mz]+/g)\n  }\n\n  handleDelSatOrSun(day) {\n    const customTable = cloneDeep(this.state.customTable)\n    customTable[day] = false\n    const dayOrder = day === 'sat' ? 5 : 6\n    Object.keys(customTable.course).forEach((key, i) => {\n      customTable.course[key][dayOrder] = {}\n    })\n\n    this.setState({\n      customTable: cloneDeep(customTable)\n    })\n  }\n\n  handleDelCourse(time, rowspan, dayOfWeek) {\n    // 'a/08', '2', '0'\n    const customTable = cloneDeep(this.state.customTable)\n    customTable.course[time][dayOfWeek] = {}\n    let nextTimeOrder = this.timeOrder.indexOf(time[0]) + 1\n    let nextTime = this.timeMap[this.timeOrder[nextTimeOrder]]\n    for (let i = 0; i < rowspan - 1; i++) {\n      customTable.course[nextTime][dayOfWeek] = {}\n      nextTimeOrder++\n      nextTime = this.timeMap[this.timeOrder[nextTimeOrder]]\n    }\n\n    this.setState({\n      customTable: cloneDeep(customTable)\n    })\n  }\n\n  handleOpenEditModal(courseData) {\n    const modalEditCourse = cloneDeep(this.state.modalEditCourse)\n    modalEditCourse.open = true\n    modalEditCourse.modalTitle = `編輯 ${courseData.title}`\n    modalEditCourse.title = courseData.title\n    modalEditCourse.desc = courseData.desc\n    modalEditCourse.bg = courseData.bg\n    modalEditCourse.time = courseData.time\n    modalEditCourse.dayOfWeek = courseData.dayOfWeek\n    this.setState({\n      modalEditCourse: cloneDeep(modalEditCourse)\n    })\n  }\n\n  toggleModalEditCourse() {\n    const modalEditCourse = cloneDeep(this.state.modalEditCourse)\n    modalEditCourse.open = !modalEditCourse.open\n    this.setState({\n      modalEditCourse: cloneDeep(modalEditCourse)\n    })\n  }\n\n  handleEditCourse(time, dayOfWeek) {\n    // 'a/08', '0'\n    if (document.getElementById('ModalEditCourse__inputTitle').value === '') {\n      alert('標題不得為空')\n      return\n    }\n\n    const modalEditCourse = cloneDeep(this.state.modalEditCourse)\n    modalEditCourse.open = false\n\n    const customTable = cloneDeep(this.state.customTable)\n    customTable.course[time][dayOfWeek].title = document.getElementById(\n      'ModalEditCourse__inputTitle'\n    ).value\n    customTable.course[time][dayOfWeek].desc = document.getElementById(\n      'ModalEditCourse__inputDesc'\n    ).value\n    customTable.course[time][dayOfWeek].bg = document.getElementById(\n      'ModalEditCourse__inputBg'\n    ).value\n\n    this.setState({\n      modalEditCourse: cloneDeep(modalEditCourse),\n      customTable: cloneDeep(customTable)\n    })\n  }\n\n  handleReColor() {\n    const customTable = cloneDeep(this.state.customTable)\n    Object.keys(customTable.course).forEach((time) => {\n      Object.keys(customTable.course[time]).forEach((dayOrder) => {\n        customTable.course[time][dayOrder] &&\n          (customTable.course[time][dayOrder].bg = '')\n      })\n    })\n\n    this.setState({\n      customTable: cloneDeep(customTable)\n    })\n  }\n\n  handleReTable() {\n    const customTable = cloneDeep(this.state.customTable)\n    Object.keys(customTable.course).forEach((time) => {\n      Object.keys(customTable.course[time]).forEach((dayOrder) => {\n        customTable.course[time][dayOrder] = {}\n      })\n    })\n\n    customTable.sat = false\n    customTable.sun = false\n    this.setState({\n      customTable: cloneDeep(customTable)\n    })\n  }\n\n  toggleModalCustomCourse() {\n    this.setState((prevState) => ({\n      modalCustomCourseOpen: !prevState.modalCustomCourseOpen\n    }))\n  }\n\n  handleAddCustomCourse() {\n    const time = document.getElementById('ModalCustomCourse__inputTime').value\n    const title = document.getElementById('ModalCustomCourse__inputTitle').value\n    if (!time || !title) {\n      alert('時間、標題不得為空')\n      return\n    }\n\n    this.checkConflict(\n      {\n        time,\n        title,\n        desc:\n          document.getElementById('ModalCustomCourse__inputDesc').value || ' ',\n        bg: document.getElementById('ModalCustomCourse__inputBg').value\n      },\n      true\n    )\n\n    this.toggleModalCustomCourse()\n  }\n\n  handleSave() {\n    this.db\n      .ref(`customTable/${this.context.user.uuid}`)\n      .set(JSON.stringify(this.state.customTable))\n      .then(() => {\n        alert('儲存成功!')\n      })\n  }\n\n  handleShare() {\n    const uuid = this.context.user.uuid\n    const hash = (Date.now() * Math.random() * Math.random())\n      .toString(16)\n      .replace('.', '')\n      .substring(2, 6)\n    this.db\n      .ref(`sharedTable/${uuid}`)\n      .set(JSON.stringify({ [hash]: this.state.customTable }))\n      .then(() => {\n        prompt(\n          '已將當前課表分享於以下連結',\n          `${process.env.REACT_APP_BASE_URL}/#/share/${uuid}${hash}`\n        )\n      })\n  }\n\n  filterConflict() {\n    this.setState((prevState) => ({\n      filterConflict: !prevState.filterConflict\n    }))\n  }\n\n  toggleModalFilterCourse() {\n    this.setState((prevState) => ({\n      modalFilterCourseOpen: !prevState.modalFilterCourseOpen\n    }))\n  }\n\n  handleFilterCourseChange(event, field) {\n    const value = event.target.value\n    this.setState((prevState) => ({\n      filterCourseForm: Object.assign({}, prevState.filterCourseForm, {\n        [field]: value\n      })\n    }))\n  }\n\n  handleFilterCourse() {\n    this.setState(() => ({\n      modalFilterCourseOpen: false\n    }))\n  }\n\n  handleClearFilterCourse() {\n    this.setState(() => ({\n      filterCourseForm: {\n        cname: '',\n        teacher: '',\n        time: '',\n        location: ''\n      },\n      modalFilterCourseOpen: false\n    }))\n  }\n\n  render() {\n    let courseList = cloneDeep(this.state.courseList)\n    let isFilterCourse = false\n    const parsedCourseList = []\n    const filterCourseForm = this.state.filterCourseForm\n\n    Object.keys(courseList).reduce((result, courseKey) => {\n      courseList[courseKey].isConflict = this.checkConflict(\n        courseList[courseKey],\n        false\n      )\n\n      const match = Object.keys(filterCourseForm).every((field) => {\n        if (filterCourseForm[field] === '') {\n          return true\n        }\n\n        isFilterCourse = true\n        if (\n          courseList[courseKey][field]\n            .toUpperCase()\n            .includes(filterCourseForm[field].toUpperCase())\n        ) {\n          return true\n        }\n\n        return false\n      })\n\n      if (match) {\n        parsedCourseList.push(courseList[courseKey])\n      }\n\n      return parsedCourseList\n    }, [])\n\n    return (\n      <div\n        style={{\n          background: '#fff',\n          padding: '20px 5px',\n          boxShadow: '0 0 10px 0 #080808'\n        }}\n      >\n        <Row className=\"mb-2\">\n          <Col xs=\"12\">\n            {this.context.user && this.context.user.uid && (\n              <ToolBar\n                onSave={this.handleSave}\n                onShare={this.handleShare}\n                onReColor={this.handleReColor}\n                onReTable={this.handleReTable}\n                onClickCustom={this.toggleModalCustomCourse}\n              />\n            )}\n          </Col>\n        </Row>\n        <Row className=\"mb-2\">\n          <Col xs=\"12\">\n            <CourseTable\n              tableData={this.state.customTable}\n              onDelSatOrSun={this.handleDelSatOrSun}\n              onDelCourse={this.handleDelCourse}\n              onEditCourse={this.handleOpenEditModal}\n            />\n            <hr />\n          </Col>\n        </Row>\n        <Row>\n          <Col xs=\"12\">\n            <CourseList\n              deptList={this.state.deptList}\n              courseList={parsedCourseList}\n              onChangeDept={this.changeDept}\n              onAddCourse={this.checkConflict}\n              filterConflict={this.state.filterConflict}\n              onFilterConflict={this.filterConflict}\n              filterCourse={isFilterCourse}\n              onFilterCourse={this.toggleModalFilterCourse}\n            />\n          </Col>\n        </Row>\n        <Modal\n          id=\"ModalEditCourse\"\n          isOpen={this.state.modalEditCourse.open}\n          toggle={this.toggleModalEditCourse}\n        >\n          <ModalHeader\n            id=\"ModalEditCourse__title\"\n            toggle={this.toggleModalEditCourse}\n          >\n            {this.state.modalEditCourse.modalTitle}\n          </ModalHeader>\n          <ModalBody>\n            <Form>\n              <FormGroup row>\n                <Label for=\"ModalEditCourse__inputTitle\" sm={2}>\n                  標題\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalEditCourse__inputTitle\"\n                    defaultValue={this.state.modalEditCourse.title}\n                    placeholder=\"課程名稱\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalEditCourse__inputDesc\" sm={2}>\n                  內容\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalEditCourse__inputDesc\"\n                    defaultValue={this.state.modalEditCourse.desc}\n                    placeholder=\"教師、地點\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalEditCourse__inputBg\" sm={2}>\n                  標記\n                </Label>\n                <Col sm={10}>\n                  <input\n                    id=\"ModalEditCourse__inputBg\"\n                    type=\"color\"\n                    defaultValue={this.state.modalEditCourse.bg || '#ffffff'}\n                    style={{ verticalAlign: 'sub', width: '100%' }}\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              color=\"primary\"\n              onClick={() => {\n                this.handleEditCourse(\n                  this.state.modalEditCourse.time,\n                  this.state.modalEditCourse.dayOfWeek\n                )\n              }}\n            >\n              確定\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Modal\n          id=\"ModalCustomCourse\"\n          isOpen={this.state.modalCustomCourseOpen}\n          toggle={this.toggleModalCustomCourse}\n        >\n          <ModalHeader toggle={this.toggleModalCustomCourse}>\n            自訂時段\n          </ModalHeader>\n          <ModalBody>\n            <Form>\n              <FormGroup row>\n                <Label for=\"ModalCustomCourse__inputTime\" sm={2}>\n                  時間\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalCustomCourse__inputTime\"\n                    placeholder=\"2bcd4jk\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalCustomCourse__inputTitle\" sm={2}>\n                  標題\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalCustomCourse__inputTitle\"\n                    placeholder=\"meeting\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalCustomCourse__inputDesc\" sm={2}>\n                  內容\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalCustomCourse__inputDesc\"\n                    placeholder=\"R438 with YCC\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalCustomCourse__inputBg\" sm={2}>\n                  標記\n                </Label>\n                <Col sm={10}>\n                  <input\n                    id=\"ModalCustomCourse__inputBg\"\n                    type=\"color\"\n                    defaultValue=\"#ffffff\"\n                    style={{ verticalAlign: 'sub', width: '100%' }}\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.handleAddCustomCourse}>\n              確定\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Modal\n          id=\"ModalFilterCourse\"\n          isOpen={this.state.modalFilterCourseOpen}\n          toggle={this.toggleModalFilterCourse}\n        >\n          <ModalHeader\n            id=\"ModalFilterCourse__title\"\n            toggle={this.toggleModalFilterCourse}\n          >\n            篩選課程\n          </ModalHeader>\n          <ModalBody>\n            <Form>\n              <FormGroup row>\n                <Label for=\"ModalFilterCourse__inputCname\" sm={2}>\n                  課名\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalFilterCourse__inputCname\"\n                    value={this.state.filterCourseForm.cname}\n                    onChange={(e) => {\n                      this.handleFilterCourseChange(e, 'cname')\n                    }}\n                    placeholder=\"課程名稱\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalFilterCourse__inputTeacher\" sm={2}>\n                  教師\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalFilterCourse__inputTeacher\"\n                    value={this.state.filterCourseForm.teacher}\n                    onChange={(e) => {\n                      this.handleFilterCourseChange(e, 'teacher')\n                    }}\n                    placeholder=\"授課教師\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalFilterCourse__inputTime\" sm={2}>\n                  時間\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalFilterCourse__inputTime\"\n                    value={this.state.filterCourseForm.time}\n                    onChange={(e) => {\n                      this.handleFilterCourseChange(e, 'time')\n                    }}\n                    placeholder=\"1bcd\"\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Label for=\"ModalFilterCourse__inputLocation\" sm={2}>\n                  教室\n                </Label>\n                <Col sm={10}>\n                  <Input\n                    type=\"text\"\n                    id=\"ModalFilterCourse__inputLocation\"\n                    value={this.state.filterCourseForm.location}\n                    onChange={(e) => {\n                      this.handleFilterCourseChange(e, 'location')\n                    }}\n                    placeholder=\"管268\"\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.handleFilterCourse}>\n              篩選\n            </Button>\n            <Button color=\"danger\" onClick={this.handleClearFilterCourse}>\n              取消篩選\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nCourseTableContainer.contextTypes = {\n  user: PropTypes.object\n}\n","import React from 'react'\n\nimport App from './App.jsx'\nimport CourseTableContainer from './CourseTableContainer.jsx'\n\nexport default class Home extends React.Component {\n  render() {\n    return (\n      <App>\n        <CourseTableContainer />\n      </App>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Row, Col, Alert } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport App from './App.jsx'\nimport CourseTable from './CourseTable.jsx'\n\nconst ShareContainer = styled.div`\n  background: #fff;\n  padding: 20px 5px;\n  box-shadow: 0 0 10px 0 #080808;\n  margin-top: 55px;\n  margin-bottom: 55px;\n`\n\nexport default class Share extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      customTable: 'Loading...'\n    }\n\n    this.db = window.firebase.database()\n  }\n\n  componentDidMount() {\n    const routeHash = this.context.router.route.match.params.hash\n    const uuid = routeHash.substring(0, routeHash.length - 4)\n    const hash = routeHash.substring(routeHash.length - 4, routeHash.length)\n    this.db\n      .ref(`sharedTable/${uuid}`)\n      .once('value')\n      .then((snapshot) => {\n        const data = snapshot.val()\n        if (data === null) {\n          this.setState({\n            customTable: '連結無效'\n          })\n          return\n        }\n\n        const tableData = JSON.parse(data)[hash]\n        if (!tableData) {\n          this.setState({\n            customTable: '連結無效'\n          })\n          return\n        }\n\n        this.setState({\n          customTable: tableData\n        })\n      })\n  }\n\n  render() {\n    return (\n      <App>\n        <ShareContainer>\n          <Row>\n            <Col xs=\"12\">\n              {typeof this.state.customTable === 'string' && (\n                <Alert className=\"text-center\" color=\"warning\">\n                  {this.state.customTable}\n                </Alert>\n              )}\n\n              {typeof this.state.customTable !== 'string' && (\n                <CourseTable tableData={this.state.customTable} shared />\n              )}\n            </Col>\n          </Row>\n        </ShareContainer>\n      </App>\n    )\n  }\n}\n\nShare.contextTypes = {\n  router: PropTypes.object\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport Home from './Home.jsx'\n// import Exchange from './Exchange.jsx'\nimport Share from './Share.jsx'\n// import CourseReview from './CourseReview.jsx'\n\nimport registerServiceWorker from './registerServiceWorker'\n\n// Initialize Firebase\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID\n}\nwindow.firebase.initializeApp(config)\n\nReactDOM.render(\n  <Router>\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      {/* <Route path=\"/exchange\" component={Exchange} /> */}\n      <Route exact path=\"/share/:hash\" component={Share} />\n      {/* <Route path=\"/review\" component={CourseReview} /> */}\n      <Redirect from=\"*\" to=\"/\" />\n    </Switch>\n  </Router>,\n  document.getElementById('app')\n)\nregisterServiceWorker()\n"],"sourceRoot":""}